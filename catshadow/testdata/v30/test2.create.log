=== RUN   TestUpgradeCreate_2
18:50:39.712 NOTI katzenpost/client: ðŸ˜¼ Katzenpost is still pre-alpha.  DO NOT DEPEND ON IT FOR STRONG SECURITY OR ANONYMITY. ðŸ˜¼
18:50:39.795 NOTI pki/voting/Client: Get(ctx, 1853125)
18:50:39.813 NOTI pki/voting/client/connector: sending getConsensus to auth1
18:50:40.077 NOTI pki/voting/client/connector: got response from auth1 to GetConsensus(1853125) (attempt 0, err=<nil>, res=Ok)
18:50:40.172 NOTI pki/voting/Client: OK, received fully signed consensus document.
18:50:40.312 NOTI pki/voting/Client: voting/Client: Get() document:
&{Epoch: 1853125 GenesisEpoch: 1853124
SendRatePerMinute: 100 Mu: 0.005 MuMaxDelay: 1000 LambdaP:0.001 LambdaPMaxDelay:1000 LambdaL:0.0005 LambdaLMaxDelay:1000 LambdaD:0.0005 LambdaDMaxDelay:3000 LambdaM: 0.0005 LambdaMMaxDelay: 100
SharedRandomValue: 6bKGHpWQO7ac3nPwEQiqFJtywN3+GRrEpBlEECGfTCE= PriorSharedRandom: [88FlI4S62X5gdWHeyQjsxD0DNaqMirApPBsAMRL3PqA=, 88FlI4S62X5gdWHeyQjsxD0DNaqMirApPBsAMRL3PqA=]
Topology:
  [0]{[{mix1 366ca35e69aa593ed11f6fddc54dc7029f71264fdcd6b37a7dafd459faed37c9 map[tcp4:[127.0.0.1:30006]]}]}
  [1]{[{mix2 a6398fa48ac8c2a0ff80c5a1e378420f13d08c567aa099d26bc0b53c3569a6f5 map[tcp4:[127.0.0.1:30007]]}]}
  [2]{[{mix3 27e66d0f3bbf8286a84563ed7a323f300b1369dffd935cbd4bac2a60475b40d9 map[tcp4:[127.0.0.1:30008]]}]}
}
Providers:[]{[{servicenode2 a1abab430caa5888f5731ef0d929585f3b16601609bb6de27fd6b62826285088 map[tcp:[localhost:30005] tcp4:[127.0.0.1:30005]]map[echo:map[endpoint:+echo]]tofu} {servicenode1 f567a25ee23836c181880064a12847e3b8564f30cdb681edb8524154cbe33893 map[tcp:[localhost:30004] tcp4:[127.0.0.1:30004]]map[echo:map[endpoint:+echo] panda:map[endpoint:+panda] spool:map[endpoint:+spool]]oob}]}}}
18:50:40.313 NOTI minclient:d39a4be85f6cf16245f4ae74418cb5495b0d95f8eacca2307ba56484b084456f@servicenode2: Katzenpost is still pre-alpha.  DO NOT DEPEND ON IT FOR STRONG SECURITY OR ANONYMITY.
18:50:40.341 INFO catshadow: Connection status change: isConnected true
18:50:42.073 NOTI katzenpost/client: ðŸ˜¼ Katzenpost is still pre-alpha.  DO NOT DEPEND ON IT FOR STRONG SECURITY OR ANONYMITY. ðŸ˜¼
18:50:42.139 NOTI pki/voting/Client: Get(ctx, 1853125)
18:50:42.152 NOTI pki/voting/client/connector: sending getConsensus to auth3
18:50:42.381 NOTI pki/voting/client/connector: got response from auth3 to GetConsensus(1853125) (attempt 0, err=<nil>, res=Ok)
18:50:42.469 NOTI pki/voting/Client: OK, received fully signed consensus document.
18:50:42.608 NOTI pki/voting/Client: voting/Client: Get() document:
&{Epoch: 1853125 GenesisEpoch: 1853124
SendRatePerMinute: 100 Mu: 0.005 MuMaxDelay: 1000 LambdaP:0.001 LambdaPMaxDelay:1000 LambdaL:0.0005 LambdaLMaxDelay:1000 LambdaD:0.0005 LambdaDMaxDelay:3000 LambdaM: 0.0005 LambdaMMaxDelay: 100
SharedRandomValue: 6bKGHpWQO7ac3nPwEQiqFJtywN3+GRrEpBlEECGfTCE= PriorSharedRandom: [88FlI4S62X5gdWHeyQjsxD0DNaqMirApPBsAMRL3PqA=, 88FlI4S62X5gdWHeyQjsxD0DNaqMirApPBsAMRL3PqA=]
Topology:
  [0]{[{mix1 366ca35e69aa593ed11f6fddc54dc7029f71264fdcd6b37a7dafd459faed37c9 map[tcp4:[127.0.0.1:30006]]}]}
  [1]{[{mix2 a6398fa48ac8c2a0ff80c5a1e378420f13d08c567aa099d26bc0b53c3569a6f5 map[tcp4:[127.0.0.1:30007]]}]}
  [2]{[{mix3 27e66d0f3bbf8286a84563ed7a323f300b1369dffd935cbd4bac2a60475b40d9 map[tcp4:[127.0.0.1:30008]]}]}
}
Providers:[]{[{servicenode2 a1abab430caa5888f5731ef0d929585f3b16601609bb6de27fd6b62826285088 map[tcp:[localhost:30005] tcp4:[127.0.0.1:30005]]map[echo:map[endpoint:+echo]]tofu} {servicenode1 f567a25ee23836c181880064a12847e3b8564f30cdb681edb8524154cbe33893 map[tcp:[localhost:30004] tcp4:[127.0.0.1:30004]]map[echo:map[endpoint:+echo] panda:map[endpoint:+panda] spool:map[endpoint:+spool]]oob}]}}}
18:50:42.609 NOTI minclient:31fbb63886187cd157be7bd4b0a2c2c6a3e4eecbcc0fd99a2b9733f905e4a138@servicenode2: Katzenpost is still pre-alpha.  DO NOT DEPEND ON IT FOR STRONG SECURITY OR ANONYMITY.
18:50:42.635 INFO catshadow: Connection status change: isConnected true
18:50:43.918 ERRO catshadow: Should not sendReadInbox before the remote spool was made...
18:50:46.074 INFO catshadow: New PANDA key exchange in progress.
18:50:46.288 INFO catshadow: New PANDA key exchange in progress.
18:50:46.425 INFO PANDA_keyexchange_bob: password derivation complete.
18:50:46.545 INFO PANDA_keyexchange_alice: password derivation complete.
18:50:50.977 INFO PANDA_keyexchange_bob: first message exchange complete
18:50:52.484 INFO PANDA_keyexchange_alice: first message exchange complete
18:50:55.552 INFO catshadow: Double ratchet key exchange completed!
18:50:57.658 INFO catshadow: Double ratchet key exchange completed!
18:50:57.659 INFO catshadow: Test 2 Sending message 'message 1 from alice' to bob on 500e91ae664ea9cbf928bfa1
XXX writing sendRatchetPublic to header: 380825d78492164f52d46b609d6f7002ff0b5a6f3f7f48fb61c6d90aab760076
XXX writing sendPQRatchetPublicBytes to header: f9746a1d0783a17d058592f2f6cfb6a4fb20ae6ed213a5093038787017b97c7dffdeebb0f862f12718eea707434228c20cdee818fd2cf10dab94f1b6ad430834 at offset 40
18:50:58.593 INFO catshadow: XXX encrypted to bob
18:51:01.785 INFO catshadow: Test 2 got DeliveredEvent for message 'message 1 from alice' to bob
18:51:01.785 INFO catshadow: Test 2 waiting for message 'message 1 from alice' from alice on 500e91ae664ea9cbf928bfa1
18:51:01.872 INFO catshadow: XXX decrypting from alice
XXX dhPublic (later theirRatchetPublic) 380825d78492164f52d46b609d6f7002ff0b5a6f3f7f48fb61c6d90aab760076
XXX theirPQRatchetPublic f9746a1d0783a17d058592f2f6cfb6a4fb20ae6ed213a5093038787017b97c7dffdeebb0f862f12718eea707434228c20cdee818fd2cf10dab94f1b6ad430834
18:51:03.051 INFO catshadow: Test 2 received message 'message 1 from alice' from alice
18:51:03.055 INFO catshadow: Test 2 Sending message 'message 1 from bob' to alice on 8732560e23771c40325591ce
XXX writing sendRatchetPublic to header: b6e2761d1fa112e453b792464540b09073f9d72711cee1d341233a6f779eca36
XXX writing sendPQRatchetPublicBytes to header: ad3b964944dca8e233bfc33693dec41a7cd9bcb64ca610020c7aecc5719e566eb06252f848f25c5257e9f546d9817316391a1b1da21b89af43ca44122bf0be51 at offset 40
18:51:05.028 INFO catshadow: XXX encrypted to alice
18:51:07.447 INFO catshadow: Test 2 got DeliveredEvent for message 'message 1 from bob' to alice
18:51:07.448 INFO catshadow: Test 2 waiting for message 'message 1 from bob' from bob on 8732560e23771c40325591ce
18:51:09.334 INFO catshadow: XXX decrypting from bob
XXX dhPublic (later theirRatchetPublic) b6e2761d1fa112e453b792464540b09073f9d72711cee1d341233a6f779eca36
XXX theirPQRatchetPublic ad3b964944dca8e233bfc33693dec41a7cd9bcb64ca610020c7aecc5719e566eb06252f848f25c5257e9f546d9817316391a1b1da21b89af43ca44122bf0be51
18:51:09.836 INFO catshadow: Test 2 received message 'message 1 from bob' from bob
18:51:09.836 INFO catshadow: Shutting down now.
18:51:09.843 NOTI katzenpost/client: Starting graceful shutdown.
18:51:09.843 NOTI minclient:d39a4be85f6cf16245f4ae74418cb5495b0d95f8eacca2307ba56484b084456f@servicenode2: Starting graceful shutdown.
18:51:09.844 NOTI minclient:d39a4be85f6cf16245f4ae74418cb5495b0d95f8eacca2307ba56484b084456f@servicenode2: Shutdown complete.
18:51:09.844 INFO catshadow: Shutting down now.
    client_docker_upgrade_test.go:177: Calling alice.Wait()
18:51:09.845 INFO catshadow: Test 2 Sending message 'message 2 from bob' to alice on 8732560e23771c40325591ce
XXX writing sendRatchetPublic to header: b6e2761d1fa112e453b792464540b09073f9d72711cee1d341233a6f779eca36
XXX writing sendPQRatchetPublicBytes to header: ad3b964944dca8e233bfc33693dec41a7cd9bcb64ca610020c7aecc5719e566eb06252f848f25c5257e9f546d9817316391a1b1da21b89af43ca44122bf0be51 at offset 40
18:51:10.331 INFO catshadow: XXX encrypted to alice
18:51:12.798 INFO catshadow: Test 2 got DeliveredEvent for message 'message 2 from bob' to alice
18:51:12.798 INFO catshadow: Shutting down now.
18:51:12.802 NOTI katzenpost/client: Starting graceful shutdown.
18:51:12.802 NOTI minclient:31fbb63886187cd157be7bd4b0a2c2c6a3e4eecbcc0fd99a2b9733f905e4a138@servicenode2: Starting graceful shutdown.
18:51:12.802 NOTI minclient:31fbb63886187cd157be7bd4b0a2c2c6a3e4eecbcc0fd99a2b9733f905e4a138@servicenode2: Shutdown complete.
18:51:12.802 INFO catshadow: Shutting down now.
    client_docker_upgrade_test.go:183: Calling bob.Wait()
--- PASS: TestUpgradeCreate_2 (33.32s)
PASS
ok  	github.com/katzenpost/katzenpost/catshadow	34.357s
